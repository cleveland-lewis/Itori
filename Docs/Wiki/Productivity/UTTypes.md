# UTType Reference

## Overview
- Roots exports three custom uniform type identifiers: `com.roots.assignment`, `com.roots.course`, and `com.roots.session`.
- Each type appears in `SharedCore/Navigation/DragDropTypes.swift` and is declared inside the autogenerated Info.plist via the `INFOPLIST_KEY_UTExportedTypeDeclarations` build settings.

## Purpose
- The exported UTIs let SwiftUI `Transferable` instances advertise stable identifiers for internal drag/drop sessions while also satisfying the AppKit/UIText drop system.
- The shared UTIs make it possible to drop assignments into other apps that understand `public.data` (the UTI’s conformance) while still letting Roots decode the structured JSON payload.

## Behavior
- `TransferableAssignment` and `TransferableCourse` both conform to `Transferable`, expose a `CodableRepresentation` for their custom UTIs, and append a `StringRepresentation` so the system can fall back to readable text.
- Info.plist now declares each UTI with a description matching the entity (“Roots Assignment”, “Roots Course”, “Roots Session”) and `UTTypeConformsTo` `public.data`.
- Drag triggers serialize the assignment/course into JSON, while cross-app drops also hand the plain-text summary so target apps like Notes only need to read a string.
- The `com.roots.session` UTI exists for future planner/timer session drags, ensuring third-party hosts can detect Roots session data when it becomes available.

## Data Flow
- When a drag begins, SwiftUI’s transfer system writes JSON to the `com.roots.assignment` representation and records `plainTextRepresentation` under `public.text`.
- The drop destination requests `TransferableAssignment.self`, so SwiftUI decodes the JSON payload automatically and hands the strongly typed struct to the handler.
- External apps receive the `plainTextRepresentation`, which includes the assignment title, due date, and estimated minutes in a human-readable block.
- Info.plist contains the same UTI definitions that the transfer system uses, so future exports or share extensions reuse the same canonical identifiers.

## Limitations
- Course and assignment drags only export plain text and JSON; there is no binary file or specialized tag for `TransferableCourse`.
- The planner session UTI is declared but not yet used inside the app. The same UTI must be referenced wherever session drags are added later.

## Related Systems
- `SharedCore/Navigation/DragDropTypes.swift` defines the `UTType` extensions plus `Transferable` payloads that carry these identifiers.
- `RootsApp.xcodeproj` build settings now expose each UTI through `INFOPLIST_KEY_UTExportedTypeDeclarations` so other systems can discover them at runtime.
